--- 
title: Android SDK reference
account: ABC
---

Our Frames for Android reference is here to help you find those hard-to-find bits of information all in one place.

<TipBox variant="info">

You can only create charges in currencies that have been enabled for your account. Please contact your Customer Success manager if you need to process payments in additional currencies.

</TipBox>

---

## Required when using our pre-built UI

First, you need to make sure you declare the form in XML.

```xml
<com.checkout.android_sdk.PaymentForm
   android:id="@+id/checkout_card_form"
   android:layout_width="match_parent"
   android:layout_height="match_parent"
 />
```

<Table>
<TableHead headers={['Method name', 'Description']} />
<TableBody>
<TableRow>
<TableCell>

`setSubmitListener({your PaymentFormCallback})`

</TableCell>
<TableCell>

The callback for the payment form's interaction outcomes.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`setKey({your key})`

</TableCell>
<TableCell>

Your public key. Make sure you use the correct key for your environment.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`setEnvironment({your environment})`

</TableCell>
<TableCell>

The setter used to decide which environment will be used. Possible values: `Environment.SANDBOX or Environment.LIVE`.

</TableCell>
</TableRow>
</TableBody>
</Table>

---

## Required when using your own UI

<Table>
<TableHead headers={['Parameter/setter', 'Description']} />
<TableBody>
<TableRow>
<TableCell>

`context`

</TableCell>
<TableCell>

Your activity context.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`environment`

</TableCell>
<TableCell>

The setter used to decide which environment will be used.Possible values: `Environment.SANDBOX or Environment.LIVE`.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`public key`

</TableCell>
<TableCell>

Your public key. Make sure you use the correct key for your environment.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`setTokenListener({your CheckoutAPIClient.OnTokenGenerated callback})`

</TableCell>
<TableCell>

Your callback used to handle the tokenization outcome.

</TableCell>
</TableRow>
</TableBody>
</Table>

---

## Handling 3D Secure

The module allows you to handle 3D Secure URLs within your mobile app.

<TipBox variant="success">

When you send a 3D Secure charge request from your server, you will get back a 3D Secure URL. You can then pass the 3D Secure URL to the module to handle the verification.

</TipBox>

### Step 1: Create a callback

```java
PaymentForm.On3DSFinished m3DSecureListener =
  new PaymentForm.On3DSFinished() {
    @Override
    public void onSuccess(String token) {
      // success
    }
    @Override
    public void onError(String errorMessage) {
      // fail
    }
  };
```

### Step 2: Pass the callback to the module and handle 3D Secure

```java
mPaymentForm = findViewById(R.id.checkout_card_form);
mPaymentForm.set3DSListener(m3DSecureListener); // pass the callback
mPaymentForm.handle3DS(
  'https://sandbox.checkout.com/api2/v2/3ds/acs/687805', // the 3D Secure URL
  'https://example.com/success', // the Redirection URL
  'https://example.com/fail', // the Redirection Fail URL
);
```

---

## Handling Google Pay

The module allows you to handle a Google Pay token payload and retrieve a token which can be used to create a charge from your backend.

### Step 1: Create a callback

```java
CheckoutAPIClient.OnGooglePayTokenGenerated mGooglePayListener =
  new CheckoutAPIClient.OnGooglePayTokenGenerated() {
    @Override
    public void onTokenGenerated(GooglePayTokenisationResponse response) {
      // success
    }
    @Override
    public void onError(GooglePayTokenisationFail error) {
      // fail
    }
    @Override
    public void onNetworkError(VolleyError error) {
      // your network error
    }
  };
```

### Step 2: Pass the callback to the module and generate the token

```java
mCheckoutAPIClient = new CheckoutAPIClient(
  context, // activity context
  'pk_XXXXX', // your public key
  Environment.SANDBOX, // the environment
);
mCheckoutAPIClient.setGooglePayListener(mGooglePayListener); // pass the callback
mCheckoutAPIClient.generateGooglePayToken(payload); // the payload is the JSON string generated by GooglePay
```

---

## Payment form methods

<Table>
<TableHead headers={['Method name', 'Description']} />
<TableBody>
<TableRow>
<TableCell>

`setSubmitListener({a PaymentFormCallback)}`

</TableCell>
<TableCell>

Set the callback for the payment form.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`setEnvironment({an Environment})`

</TableCell>
<TableCell>

Set the environment to be used.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`setKey({your public key}) `

</TableCell>
<TableCell>

Set the public key to be used in the tokenization process.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`setAcceptedCard({array of CardUtils.Cards}) `

</TableCell>
<TableCell>

Set all the card schemes that you want to accept. This will determine which logos to display.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`setDefaultBillingCountry({a Locale country}) `

</TableCell>
<TableCell>

This will automatically set the country drop-down to be your desired locale.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`handle3DS({string url, final String successUrl, final String FailsUrl}) `

</TableCell>
<TableCell>

Used to handle 3DS URLs.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`set3DSListener({an On3DSFinished handler})`

</TableCell>
<TableCell>

Set the 3DS handler.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`includeBilling({a BillingModel}) `

</TableCell>
<TableCell>

In case you already collected the customer's billing details, you can inject them here so they don't have to enter them again.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`injectPhone({a phoneModel})`

</TableCell>
<TableCell>

In case you already collected the customer's phone details, you can inject them here so they don't have to enter them again.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`injectCardHolderName({string})`

</TableCell>
<TableCell>

In case you already collected the customer's name, you can inject it here so they don't have to enter it again.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`clearForm() `

</TableCell>
<TableCell>

Clears the payment form.

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`setFormListener({a PaymentFormCallback}) `

</TableCell>
<TableCell>

Sets a callback for when the form is submitted.

</TableCell>
</TableRow>
</TableBody>
</Table>

---

## CardTokenisationResponse Object

All the properties have getters.

<Table>
<TableHead headers={['Property', 'Type']} />
<TableBody>
<TableRow>
<TableCell>

`type`

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`token`

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`expires_on `

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`expiry_month `

</TableCell>
<TableCell>

Integer

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`expiry_year `

</TableCell>
<TableCell>

Integer

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`scheme `

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`last4`

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`bin `

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`card_type`

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`card_category`

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`issuer`

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`issuer_country`

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`product_id`

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`product_type`

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`billing_address`

</TableCell>
<TableCell>

BillingModel

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`phone`

</TableCell>
<TableCell>

PhoneModel

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`name`

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
</TableBody>
</Table>

## CardTokenisationFail Object

All the properties have getters.

<Table>
<TableHead headers={['Property', 'Type']} />
<TableBody>
<TableRow>
<TableCell>

`request_id`

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`error_type`

</TableCell>
<TableCell>

String

</TableCell>
</TableRow>
<TableRow>
<TableCell>

`error_code`

</TableCell>
<TableCell>

String[]

</TableCell>
</TableRow>
</TableBody>
</Table>
